<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eetplanning Family Hub - V6</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Metal+Mania&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #D66D58; --primary-light: #FF8E78; --secondary: #4CAF50;
            --protein-blue: #4A90E2; --leftover-purple: #9b59b6;
            --bg-gradient: linear-gradient(135deg, #FFF5F2 0%, #E8F5E9 100%);
            --card-bg: rgba(255, 255, 255, 0.95); --text: #2D3436; --shadow: 0 10px 30px rgba(0,0,0,0.08);
            --header-font: 'Poppins', sans-serif;
        }

        /* Gothic Thema voor Hemmeryckx */
        body.gothic-mode {
            --primary: #8e44ad; --primary-light: #9b59b6; --secondary: #2c3e50;
            --bg-gradient: linear-gradient(135deg, #0f0c29 0%, #302b63 100%);
            --card-bg: rgba(30, 30, 30, 0.95); --text: #ecf0f1; --shadow: 0 10px 40px rgba(0,0,0,0.6);
            --header-font: 'Metal Mania', cursive;
        }

        * { box-sizing: border-box; transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
        body { font-family: 'Poppins', sans-serif; background: var(--bg-gradient); color: var(--text); margin: 0; padding: 20px; min-height: 100vh; }
        .container { max-width: 1100px; margin: 0 auto; }
        
        /* Family Switch Slider */
        .family-selector {
            display: flex; justify-content: center; align-items: center; gap: 20px;
            margin-bottom: 30px; background: var(--card-bg); padding: 15px;
            border-radius: 50px; box-shadow: var(--shadow); width: fit-content; margin-left: auto; margin-right: auto;
        }
        .switch { position: relative; display: inline-block; width: 60px; height: 34px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc; transition: .4s; border-radius: 34px;
        }
        .slider:before {
            position: absolute; content: "üçΩÔ∏è"; display: flex; align-items: center; justify-content: center;
            height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; font-size: 14px;
        }
        input:checked + .slider { background-color: var(--primary); }
        input:checked + .slider:before { transform: translateX(26px); content: "ü¶á"; }

        header { text-align: center; padding: 25px; background: var(--card-bg); border-radius: 30px; box-shadow: var(--shadow); margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.2); }
        header h1 { font-family: var(--header-font); font-size: 2.2rem; margin: 0; letter-spacing: 1px; }

        .price-tag { background: var(--primary); color: white; padding: 10px 20px; border-radius: 15px; display: inline-block; font-weight: 700; margin-bottom: 15px; }
        .tab-menu { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
        .tab-btn { padding: 12px 25px; border: none; border-radius: 50px; cursor: pointer; font-weight: 600; background: var(--card-bg); color: var(--text); box-shadow: var(--shadow); }
        .tab-btn.active { background: var(--primary); color: white; }
        
        .tab-content { display: none; } .tab-content.active { display: block; }
        .glass-card { background: var(--card-bg); border-radius: 25px; padding: 25px; box-shadow: var(--shadow); margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.1); }
        .shopping-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; }
        h4 { color: var(--secondary); border-bottom: 2px solid rgba(0,0,0,0.1); padding-bottom: 5px; margin-bottom: 10px; }
        body.gothic-mode h4 { border-bottom-color: rgba(255,255,255,0.1); color: var(--primary-light); }
        
        .item-list { list-style: none; padding: 0; margin: 0; }
        .item-list li { font-size: 0.85rem; padding: 8px 0; border-bottom: 1px solid rgba(0,0,0,0.05); display: flex; justify-content: space-between; cursor: pointer; }
        body.gothic-mode .item-list li { border-bottom-color: rgba(255,255,255,0.05); }
        .item-list li.checked { text-decoration: line-through; opacity: 0.4; }
        
        .calendar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
        .day-card { background: var(--card-bg); border-radius: 20px; padding: 15px; text-align: center; box-shadow: var(--shadow); cursor: pointer; display: flex; flex-direction: column; min-height: 240px; }
        .day-card:hover { transform: translateY(-5px); border: 2px solid var(--primary-light); }
        
        .leftover-label { font-size: 0.65rem; font-weight: 700; padding: 4px 10px; border-radius: 8px; margin-bottom: 10px; text-transform: uppercase; }
        .label-save { background: #E8F5E9; color: var(--secondary); } 
        .label-use { background: #F3E5F5; color: var(--leftover-purple); }
        body.gothic-mode .label-save { background: #1b2e1c; color: #4CAF50; }
        body.gothic-mode .label-use { background: #2d1a36; color: #9b59b6; }

        .stat-pill { font-size: 0.7rem; padding: 4px 10px; border-radius: 10px; font-weight: 700; margin-top: 5px; display: inline-block; color: #fff; background: var(--primary); }
        
        .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(8px); }
        .modal-content { background: var(--card-bg); color: var(--text); max-width: 550px; margin: 5vh auto; border-radius: 25px; padding: 30px; position: relative; max-height: 90vh; overflow-y: auto; border: 1px solid var(--primary); }
        .swap-box { background: rgba(142, 68, 173, 0.1); border-left: 5px solid var(--primary); padding: 15px; border-radius: 10px; margin-top: 15px; font-size: 0.9rem; }
    </style>
</head>
<body id="mainBody">

<div class="container">
    <div class="family-selector">
        <span style="font-weight: 600;">Ricour (3p)</span>
        <label class="switch">
            <input type="checkbox" id="familyToggle" onchange="toggleFamily()">
            <span class="slider"></span>
        </label>
        <span style="font-weight: 600;">Hemmeryckx (2p)</span>
    </div>

    <header>
        <h1 id="mainTitle">üçΩÔ∏è Eetplanning Lore & Jorden</h1>
    </header>

    <div class="tab-menu">
        <button class="tab-btn active" onclick="openTab(event, 'p1')">Week 1 & 2</button>
        <button class="tab-btn" onclick="openTab(event, 'p2')">Week 3 & 4</button>
    </div>

    <div id="p1" class="tab-content active">
        <div class="glass-card">
            <div class="price-tag" id="price1">Totaal: +/- ‚Ç¨55,00</div>
            <div class="shopping-grid">
                <div><h4>ü•© Vlees & Vis</h4><ul class="item-list" id="vlees1"></ul></div>
                <div><h4>ü•¶ Groenten</h4><ul class="item-list" id="groenten1"></ul></div>
                <div><h4>ü•´ Voorraad</h4><ul class="item-list" id="voorraad1"></ul></div>
            </div>
        </div>
        <div class="calendar-grid" id="cal1"></div>
    </div>

    <div id="p2" class="tab-content">
        <div class="glass-card">
            <div class="price-tag" id="price2">Totaal: +/- ‚Ç¨58,00</div>
            <div class="shopping-grid">
                <div><h4>ü•© Vlees & Vis</h4><ul class="item-list" id="vlees2"></ul></div>
                <div><h4>ü•¶ Groenten</h4><ul class="item-list" id="groenten2"></ul></div>
                <div><h4>ü•´ Voorraad</h4><ul class="item-list" id="voorraad2"></ul></div>
            </div>
        </div>
        <div class="calendar-grid" id="cal2"></div>
    </div>
</div>

<div id="recipeModal" class="modal">
    <div class="modal-content">
        <span onclick="closeModal()" style="position:absolute;right:25px;top:15px;font-size:30px;cursor:pointer;">&times;</span>
        <h2 id="mTitle" style="color:var(--primary);margin-top:0;"></h2>
        <div id="mIng" style="background:rgba(0,0,0,0.05); padding:15px; border-radius:15px; margin-bottom:15px;"></div>
        <strong>Bereiding:</strong><ol id="mSteps" style="margin-top:10px;"></ol>
        <div id="mSwap" class="swap-box"></div>
    </div>
</div>

<script>
    // Alle originele data
    const s1 = {
        v: ["Kipgehakt (1kg) - ‚Ç¨9.98", "Chipolata (1kg) - ‚Ç¨9.50", "Tonijn (3 blik) - ‚Ç¨4.50", "Eieren (6st) - ‚Ç¨1.79"],
        g: ["Aardappelen (1.5kg) - ‚Ç¨2.50", "Wortelen (2kg) - ‚Ç¨1.69", "Uien (2kg) - ‚Ç¨1.99", "Courgettes (3st) - ‚Ç¨2.50", "Spinazie (DV) - ‚Ç¨1.29", "Erwten (DV) - ‚Ç¨1.89", "Look - ‚Ç¨0.99"],
        k: ["Pasta (1.5kg) - ‚Ç¨3.00", "Rijst (2kg) - ‚Ç¨2.99", "Tomatenblokjes (6x) - ‚Ç¨3.90", "Kidneybonen (2x) - ‚Ç¨1.80", "Linzen (500g) - ‚Ç¨1.39", "Ma√Øs blik - ‚Ç¨0.79", "Pesto potje - ‚Ç¨1.69", "Wraps (8st) - ‚Ç¨1.59", "Kokosmelk - ‚Ç¨1.35", "Room (2x) - ‚Ç¨1.70"]
    };
    const s2 = {
        v: ["Varkenshaas (600g) - ‚Ç¨10.20", "Kabeljauw (450g) - ‚Ç¨11.45", "Rundergehakt (500g) - ‚Ç¨5.95", "Kipfilet (600g) - ‚Ç¨7.80", "Eieren (6st) - ‚Ç¨1.79"],
        g: ["Broccoli (500g) - ‚Ç¨1.49", "Champignons (500g) - ‚Ç¨2.15", "Zoete Aardappel (1kg) - ‚Ç¨2.49", "Paprika Mix (3st) - ‚Ç¨2.25", "Sla mix - ‚Ç¨1.50"],
        k: ["Passata (500ml) - ‚Ç¨0.95", "Quinoa (300g) - ‚Ç¨2.19", "Extra rijst/pasta - ‚Ç¨3.00", "Sojasaus/Mosterd - ‚Ç¨3.00", "Bouillon/Kruiden - ‚Ç¨2.00"]
    };

    const p1 = [
        { d: "Ma 5 Jan", m: "Pasta Bolognese", k: "650", p: "32", t: "25", l: "save", lbl: "üì¶ Extra saus maken", ing: ["500g Kipgehakt", "375g Pasta", "800g Tomatenblokjes", "Wortel/Ui"], steps: ["Kook de pasta.", "Bak gehakt met ui en wortel.", "Voeg tomatenblokjes toe en sudder 15 min.", "Meng alles."], swap: "üí° Gebruik kookroom voor een zachtere saus." },
        { d: "Di 6 Jan", m: "Aziatische Kip Wok", k: "580", p: "30", t: "20", ing: ["500g Kipgehakt", "250g Rijst", "1 Courgette", "2 Wortels"], steps: ["Kook de rijst.", "Wok groenten beetgaar.", "Voeg gehakt en sojasaus toe.", "Meng met rijst."], swap: "üí° Gebruik overschot pasta als noodles." },
        { d: "Wo 7 Jan", m: "Gekruide Linzenstoof", k: "510", p: "26", t: "25", l: "save", lbl: "üì¶ Bewaar basis voor morgen", ing: ["Linzen (250g)", "Kokosmelk", "Tomatenblokjes", "Look/Ui"], steps: ["Fruit ui en look.", "Voeg linzen en tomaten toe.", "Laat 15 min sudderen met kokosmelk.", "Kruid stevig af."], swap: "üí° Serveer met een klein schepje rijst." },
        { d: "Do 8 Jan", m: "Gevulde Wraps (Kip/Ma√Øs)", k: "640", p: "29", t: "15", l: "use", lbl: "‚ôªÔ∏è Gebruik Linzenbasis", ing: ["Wraps", "Restant linzenstoof", "Ma√Øs", "Courgette"], steps: ["Bak courgetteblokjes.", "Meng de ma√Øs door de linzenstoof.", "Warm de wraps op.", "Vul en rol de wraps."], swap: "üí° Voeg wat geraspte kaas toe indien aanwezig." },
        { d: "Vr 9 Jan", m: "Tonijn-Spinazie Pasta", k: "690", p: "35", t: "15", ing: ["Tonijn", "Pasta", "Spinazie", "Room"], steps: ["Kook pasta.", "Warm spinazie met room.", "Voeg tonijn toe.", "Meng alles."], swap: "üí° Voeg mosterd toe voor pit." },
        { d: "Ma 12 Jan", m: "Worst & Stamppot", k: "720", p: "26", t: "30", l: "save", lbl: "üì¶ Bewaar 2 worsten", ing: ["Chipolata", "Aardappel", "Wortel"], steps: ["Kook aardappel/wortel.", "Bak worsten.", "Stamp groenten met melk."], swap: "üí° Kerriepoeder is een aanrader." },
        { d: "Di 13 Jan", m: "Snelle Jambalaya", k: "640", p: "25", t: "25", l: "use", lbl: "‚ôªÔ∏è Gebruik Worst", ing: ["Worst", "Rijst", "Tomaat", "Courgette"], steps: ["Bak worstschijfjes.", "Voeg courgette en tomaat toe.", "Meng met rijst."], swap: "üí° Voeg extra ma√Øs toe." },
        { d: "Wo 14 Jan", m: "Linzencurry", k: "550", p: "22", t: "20", ing: ["Linzen", "Kokosmelk", "Tomaat", "Rijst"], steps: ["Kook rijst.", "Maak curry van kokos/tomaat/linzen.", "Sudder 10 min."], swap: "üí° Lekker met een wrap erbij." },
        { d: "Do 15 Jan", m: "Pasta Pesto", k: "630", p: "18", t: "15", ing: ["Pasta", "Pesto", "Courgette"], steps: ["Kook pasta.", "Bak courgette.", "Meng met pesto."], swap: "üí° Voeg een gekookt ei toe." },
        { d: "Vr 16 Jan", m: "Nasi Goreng", k: "540", p: "24", t: "20", ing: ["Rijst", "Erwten", "Eieren"], steps: ["Bak roerei.", "Wok koude rijst met erwten.", "Meng alles."], swap: "üí° Gebruik restgroenten." }
    ];

    const p2 = [
        { d: "Ma 19 Jan", m: "Varkenshaas & Broccoli", k: "590", p: "38", t: "25", ing: ["Varkenshaas", "Broccoli", "Aardappel"], steps: ["Kook aardappel/broccoli.", "Bak varkenshaas 12 min.", "Serveer."], swap: "üí° Room-mosterd sausje maken." },
        { d: "Di 20 Jan", m: "Pasta Rundergehakt", k: "610", p: "32", t: "20", l: "save", lbl: "üì¶ Bewaar voor vrijdag", ing: ["Gehakt", "Pasta", "Passata"], steps: ["Kook pasta.", "Bak gehakt.", "Voeg passata toe."], swap: "üí° Gebruik Italiaanse kruiden." },
        { d: "Wo 21 Jan", m: "Kip & Paprika Quinoa", k: "540", p: "35", t: "20", l: "save", lbl: "üì¶ Bewaar voor maandag", ing: ["Kip", "Quinoa", "Paprika"], steps: ["Kook quinoa.", "Bak kip/paprika.", "Meng."], swap: "üí° Breng op smaak met sojasaus." },
        { d: "Do 22 Jan", m: "Kabeljauw & Zoete Aard", k: "520", p: "28", t: "30", ing: ["Kabeljauw", "Zoete Aardappel", "Champignons"], steps: ["Rooster aardappel.", "Bak vis.", "Bak champignons."], swap: "üí° Paprikapoeder op de vis." },
        { d: "Vr 23 Jan", m: "Gevulde Paprika", k: "560", p: "30", t: "35", l: "use", lbl: "‚ôªÔ∏è Gebruik Gehakt", ing: ["Paprika", "Restant Gehakt", "Rijst"], steps: ["Vul paprika met gehakt/rijst.", "Bak 20 min in oven."], swap: "üí° Quinoa werkt ook." },
        { d: "Ma 26 Jan", m: "Kip-Champignon Room", k: "620", p: "40", t: "25", l: "use", lbl: "‚ôªÔ∏è Gebruik Kip", ing: ["Kip", "Champignons", "Room", "Rijst"], steps: ["Kook rijst.", "Bak champignons/kip.", "Voeg room toe."], swap: "üí° Gebruik een bouillonblokje." },
        { d: "Di 27 Jan", m: "Pasta Broccoli-Tonijn", k: "580", p: "34", t: "15", ing: ["Pasta", "Broccoli", "Tonijn"], steps: ["Kook pasta/broccoli.", "Meng met tonijn."], swap: "üí° Drupje citroen toevoegen." },
        { d: "Wo 28 Jan", m: "Zoete Aardappel Curry", k: "550", p: "20", t: "25", ing: ["Zoete Aardappel", "Kokosmelk", "Linzen"], steps: ["Bak aardappel.", "Sudder met kokos/linzen."], swap: "üí° Serveer met wraps." },
        { d: "Do 29 Jan", m: "Gehakt-Paprika Schotel", k: "590", p: "31", t: "20", ing: ["Gehakt", "Paprika", "Aardappel"], steps: ["Bak alles in √©√©n pan goudbruin."], swap: "üí° Ei erbovenop." },
        { d: "Vr 30 Jan", m: "Restjes-Wok Quinoa", k: "510", p: "25", t: "15", ing: ["Quinoa", "Restgroenten", "Eieren"], steps: ["Wok alles met ei."], swap: "üí° Gebruik kruidenmix." }
    ];

    let factor = 1; // 1 = Ricour (3p), 0.67 = Hemmeryckx (2p)

    function toggleFamily() {
        const isGothic = document.getElementById('familyToggle').checked;
        const body = document.getElementById('mainBody');
        const title = document.getElementById('mainTitle');

        if (isGothic) {
            body.classList.add('gothic-mode');
            title.innerText = "ü¶á Planning Hemmeryckx - Debodt";
            factor = 0.67;
        } else {
            body.classList.remove('gothic-mode');
            title.innerText = "üçΩÔ∏è Planning Ricour - De Bruyn";
            factor = 1;
        }
        renderEverything();
    }

    function scaleAmount(text) {
        if (factor === 1) return text;
        return text.replace(/(\d+(\.\d+)?)/g, (match) => {
            const val = parseFloat(match);
            if (val > 5) { // Alleen grotere getallen zoals grammen/ml scalen
                return Math.round(val * factor);
            }
            return match; // Kleine getallen zoals "1 courgette" laten we zo
        });
    }

    function renderEverything() {
        document.querySelectorAll('.item-list, .calendar-grid').forEach(el => el.innerHTML = '');
        
        renderS(s1, 'vlees1', 'groenten1', 'voorraad1');
        renderS(s2, 'vlees2', 'groenten2', 'voorraad2');
        renderC(p1, 'cal1');
        renderC(p2, 'cal2');
        
        document.getElementById('price1').innerText = `Totaal: +/- ‚Ç¨${(55 * (factor < 1 ? 0.8 : 1)).toFixed(2)}`;
        document.getElementById('price2').innerText = `Totaal: +/- ‚Ç¨${(58 * (factor < 1 ? 0.8 : 1)).toFixed(2)}`;
    }

    function renderS(data, v, g, k) {
        const f = (l, d) => d.forEach(i => { 
            const li = document.createElement('li'); 
            const parts = i.split(' - ');
            li.innerHTML = `<span>${scaleAmount(parts[0])}</span><b>${parts[1] || ''}</b>`; 
            li.onclick = () => li.classList.toggle('checked'); 
            document.getElementById(l).appendChild(li); 
        });
        f(v, data.v); f(g, data.g); f(k, data.k);
    }

    function renderC(data, id) {
        data.forEach(x => {
            const c = document.createElement('div'); c.className = 'day-card';
            c.innerHTML = `<div style="font-size:0.75rem;opacity:0.6;font-weight:600">${x.d}</div>${x.lbl?`<div class="leftover-label ${x.l==='save'?'label-save':'label-use'}">${x.lbl}</div>`:''}<div style="font-weight:700;margin:10px 0;color:var(--primary);flex-grow:1">${x.m}</div><div><span class="stat-pill">üí™ ${Math.round(x.p * factor)}g</span> <span class="stat-pill" style="background:rgba(0,0,0,0.1);color:inherit">üïí ${x.t}m</span></div>`;
            c.onclick = () => { 
                document.getElementById('mTitle').innerText = x.m; 
                document.getElementById('mIng').innerHTML = `<strong>Nodig:</strong><br>${x.ing.map(i => scaleAmount(i)).join(', ')}`;
                document.getElementById('mSteps').innerHTML = x.steps.map(s => `<li>${s}</li>`).join('');
                document.getElementById('mSwap').innerText = x.swap;
                document.getElementById('recipeModal').style.display='block'; 
            };
            document.getElementById(id).appendChild(c);
        });
    }

    function openTab(e, n) {
        document.querySelectorAll('.tab-content, .tab-btn').forEach(x => x.classList.remove('active'));
        document.getElementById(n).classList.add('active'); e.currentTarget.classList.add('active');
    }
    function closeModal() { document.getElementById('recipeModal').style.display='none'; }
    
    window.onload = renderEverything;
</script>
</body>
</html>